<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>快马-应用管理</title>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="apple-mobile-web-app-status-bar-style" content="black"> 
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="format-detection" content="telephone=no">
<link rel="stylesheet" href="../src/css/layui.css"  media="all">
<link rel="stylesheet" href="../src/css/global.css" media="all">
</head>
<body>

<div class="layui-layout layui-layout-admin">
	<div class="layui-header header">
		<h1 class="logo">快马后台管理</h1>
		<ul class="layui-nav" pc>
			<li class="layui-nav-item"> 2017/08/09 11:11:55</li>
			<li class="layui-nav-item ">
				<i class="layui-icon">&#xe612;</i> 郑佳稳
			</li>
		</ul>
	</div>
	<div class="layui-side layui-bg-black" id="side">
	</div>

	<div class="layui-tab layui-tab-brief">
		<div class="layui-body layui-tab-content site-demo site-demo-body">
			<div class="layui-main">
	  			<form class="layui-form layui-inline" id="queryForm" action="">
					<div class="layui-inline">
						<select name="application" lay-verify="">
							<option value="">请选择应用</option>
							<option value="kmbrowser">kmbrowser</option>
							<option value="kmnews">kmnews</option>
						</select>  
				    </div>
					<div class="layui-inline">
						<select name="platform" lay-verify="">
							<option value="">选择设备平台</option>
							<option value="DEFAULT">所有</option>
							<option value="ANDROID">ANDROID</option>
							<option value="IPHONE">IPHONE</option>
						</select>  
				    </div>
					<button class="layui-btn" lay-submit lay-filter="check">查询</button>
				</form>
				<button class="layui-btn js-btn" data-type="add"><i class="layui-icon">&#xe608;</i> 添加</button>
				<table class="layui-table" lay-even="" lay-skin="row">
				  	<colgroup>
					    <col width="46">
					    <col width="14%">
					    <col width="14%">
					    <col width="10%">
					    <col width="15%">
					    <col width="15%">
					    <col>
				  	</colgroup>
				  	<thead>
					    <tr>
							<th>ID</th>
							<th>应用</th>
							<th>平台</th>
							<th>版本</th>
							<th>添加时间</th>
							<th>修改时间</th>
							<th>操作</th>
					    </tr> 
				  	</thead>
				  	<tbody>
					    <tr>
							<td>23</td>
							<td>kmbrowser</td>
							<td>ANDROID</td>
							<td>141</td>
							<td>2017-06-20 12:00:00</td>
							<td>2017-06-20 12:00:00</td>
							<td><a class="js-btn" data-id="23" href="javascript:;">编辑</a></td>
					    </tr>
					    <tr>
							<td>23</td>
							<td>kmbrowser</td>
							<td>ANDROID</td>
							<td>141</td>
							<td>2017-06-20 12:00:00</td>
							<td>2017-06-20 12:00:00</td>
							<td><a class="js-btn" data-id="23" href="javascript:;">编辑</a></td>
					    </tr>
					    <tr>
							<td>23</td>
							<td>kmbrowser</td>
							<td>ANDROID</td>
							<td>141</td>
							<td>2017-06-20 12:00:00</td>
							<td>2017-06-20 12:00:00</td>
							<td><a class="js-btn" data-id="23" href="javascript:;">编辑</a></td>
					    </tr>
					    <tr>
					      	<td>23</td>
					      	<td>kmbrowser</td>
					      	<td>ANDROID</td>
					      	<td>141</td>
					      	<td>2017-06-20 12:00:00</td>
					      	<td>2017-06-20 12:00:00</td>
					      	<td><a class="js-btn" data-id="23" href="javascript:;">编辑</a></td>
					    </tr>
				  	</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="layui-footer footer"></div>
</div>

<div id="formPane" style="display: none;padding: 20px;">
	<form class="layui-form layui-form-pane" >
		<div class="layui-form-item">
	    	<label class="layui-form-label">应用</label>
	    	<div class="layui-input-block">
				<select name="application" lay-verify="">
					<option value="kmbrowser">kmbrowser</option>
					<option value="kmnews">kmnews</option>
				</select>  
	    	</div>
		</div>
		<div class="layui-form-item">
		    <label class="layui-form-label">平台</label>
		    <div class="layui-input-block">
				<select name="platform" lay-verify="">
					<option value="IPHONE">IPHONE</option>
					<option value="ANDROID">ANDROID</option>
				</select>  
		    </div>
		</div>
	  	<div class="layui-form-item">
		    <label class="layui-form-label">版本</label>
		    <div class="layui-input-block">
		      	<input type="text" name="version" autocomplete="off" placeholder="如：110" class="layui-input" >
		    </div>
	  	</div>
	  	<div class="layui-form-item">
		    <label class="layui-form-label">发布时间</label>
		    <div class="layui-input-block">
		      	 <input class="layui-input" name="added_time" onclick="layui.laydate({elem: this, istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
		    </div>
	  	</div>
		<div class="layui-form-item" id="addBtn">
	    	<div class="layui-btn" lay-submit lay-filter="add">新增</div>
	  	</div>
		<div class="layui-form-item" id="updateBtn">
	    	<div class="layui-btn" lay-submit lay-filter="update">修改</div>
	  	</div>
	  	<button type="reset" id="reset" class="layui-hide">重置</button>
	</form>
</div>
<!-- mobile side -->
<div class="site-tree-mobile layui-hide">
  <i class="layui-icon">&#xe602;</i>
</div>
<div class="site-mobile-shade"></div>
<script src="../src/layui.js"></script>
<script>
	layui.config({
	  	base: '../src/lay/modules/layui/',
	  	version: '1498502182151'
	}).use('global');
	layui.use('layer', function(exports){
	    var $ = layui.jquery;
	    $('#side').load('../include/side.html', function(a,b){
	    	$('#1_1').addClass('layui-this');
	    });
	});
	layui.use(['layer', 'form', 'laydate'], function(exports){
	    var $ = layui.jquery, form = layui.form(), laydate = layui.laydate;
	    var active = {
	    	add: function() {
	    		$('#updateBtn').remove();
				layer.open({
					title:'新增应用版本',
					type: 1,
					skin: 'layui-layer-rim', 
					area: ['320px', '360px'], 
					content: $('#formPane'),
					cancel: function(){ 
						$('#reset').click()
					}
				});
	    	},
	    	update: function() {
	    		$('#addBtn').remove();
				layer.open({
					title:'修改应用版本',
					type: 1,
					skin: 'layui-layer-rim', 
					area: ['320px', '360px'], 
					content: $('#formPane'),
					cancel: function(){ 
						$('#reset').click()
					}
				});
	    	}
	    }
		$('.js-btn').on('click', function(){
		    var type = $(this).data('type');
		    if(type == 'add'){
		    	active['add'].call(this);
		    }else{
		    	var id = $(this).data('id');
		    	active['update'].call(this);
		    }
		});

		//事件监听
		form.on('select', function(data){
		    console.log(data);
		});

		//监听提交
		form.on('submit(check)', function(data){
		    console.log('check：'+data)
		    return false;
		});
		form.on('submit(add)', function(data){
		    console.log('add：'+data)
		    return false;
		});
		form.on('submit(update)', function(data){
		    console.log('update：'+data)
		    return false;
		});
	});
</script>

</body>
</html>
